## HEAD
- time : 2024-9-22
- author : young
- abstract : Switcher环境切换类职能不明
## 背景
而环境切换封装在[Switcher](../semantic/line.py)中，而环境切换是一个泛的概念，包含了 
| 内容 | 描述 |
| --- | --- |
| 模式 | 推理机运行在三种模式下，不同模式的语法，对同一个句子的解释也不一样 |
| 变量 |指代对象 |
|定理|从公理推导出来的结论|
|假设|该概念被引入用来证明可满足式的逻辑|
|局部结论| 证明模式下的结论，与定理的区别其前提可能是假设|

而现在的Switcher针对部分产生式进行（变量，模式，假设）的切换。其实Switcher只是通过根据产生式调用env中相应的方法，最终环境切换是由env完成的。

## 问题
在换境切换上，Switcher和Context的边界模糊，需要进一步确定。

## 分析
### 什么时候
环境切换会发生在什么时候，一切变换均是输入产生的，这没有问题，但具体是哪一部分，哪个阶段呢？首先是输入的非产生项，如 declare，assert, 公理，假设. 然后应用规则产生的项呢？也是可以根据产生式和状态直接确定的(添加结论)。
### 输入输出
Context或者无需输入，或者最基本的输入（假设等）

Switcher输入语法树，调用Context切换环境
## 影响

不梳理清楚，不仅会使得结构混乱，引入错误，也会阻碍开发。


## 可能的解
### 职责划分
- Context  
提供最基本的环境切换接口：变量，模式，假设，结论的增删查
- Switcher
根据输入的
### 解法影响
#### 积极影响


#### 负面影响

